(self.webpackChunkgatsby_shopify_course=self.webpackChunkgatsby_shopify_course||[]).push([[768],{8151:function(e,t,n){"use strict";n.d(t,{l:function(){return o}});var r=n(7294),l=n(1044),c=n(4997),o=function(e){var t=e.children;return r.createElement(r.Fragment,null,r.createElement("div",{className:"site min-h-screen flex flex-col "},r.createElement(l.Z,null),r.createElement("main",{className:"mt-10 md:mt-0"},t," "),r.createElement(c.$,null)))}},6570:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return g}});var r=n(7294),l=n(1818),c=n(8151),o=n(9499),i=n(9),a=i.ZP.div.withConfig({displayName:"styles__CategoryFilterItemWrapper",componentId:"sc-1kwunmb-0"})(["display:flex;margin-top:10px;cursor:pointer;color:#707070;> div:last-child{padding-left:8px;}"]),s=n(2203);function u(e){var t,n=e.title,c=e.id,i=(0,o.useLocation)().search,u=s.parse(i),m=(null===(t=u.c)||void 0===t?void 0:t.split(",").filter((function(e){return!!e})))||[],d=null==m?void 0:m.find((function(e){return e===c})),f=u.s;return r.createElement(a,{onClick:function(){var e=[];d?e=m.filter((function(e){return e!==c})).map((function(e){return encodeURIComponent(e)})):(m.push(c),e=m.map((function(e){return encodeURIComponent(e)}))),e.length&&!f?(0,o.navigate)("/produits?c="+e.join(",")):e.length&&f?(0,o.navigate)("/produits?c="+e.join(",")+"&s="+encodeURIComponent(f)):!e.length&&f?(0,o.navigate)("/produits?s="+encodeURIComponent(f)):(0,o.navigate)("/produits")}},r.createElement(l.XZ,{checked:d}),r.createElement("div",null,n))}var m=i.ZP.div.withConfig({displayName:"styles__FiltersWrapper",componentId:"onqu3-0"})(["margin-top:20px;"]),d=n(5444);function f(){var e=(0,d.useStaticQuery)("2152172602");return r.createElement(m,null,r.createElement("div",{className:" title-categorie DancingScript font-bold mb-6"},"Types de produits"),e.allShopifyCollection.edges.map((function(e){var t=e.node;return r.createElement(u,{title:t.title,key:t.shopifyId,id:t.shopifyId,className:" title-categorie font-bold text-centermb-6"})})))}var p=n(4741),h=n(349);function v(){var e,t=r.useContext(h.Z),n=t.products,l=t.collections,c={},i=(0,o.useLocation)().search,a=s.parse(i),u=(null===(e=a.c)||void 0===e?void 0:e.split(",").filter((function(e){return!!e})))||[],m={},d=a.s;u.forEach((function(e){m[e]=!0})),l&&l.forEach((function(e){c[e.shopifyId]={},e.products.forEach((function(t){c[e.shopifyId][t.shopifyId]=!0}))}));var v=n.filter((function(e){if(Object.keys(m).length){for(var t in m){var n;if(null!==(n=c[t])&&void 0!==n&&n[e.shopifyId])return!0}return!1}return!0})).filter((function(e){return!d||e.title.toLowerCase().indexOf(d.toLowerCase())>=0}));return r.createElement("aside",{className:" text-left hidden md:flex   md:flex-col content-center  pr-4 "},r.createElement("img",{className:"w-5/6 mx-auto mb-5 mt-3 ",alt:"accueil",src:"https://res.cloudinary.com/anthow/image/upload/v1619966610/Coccinelles%20et%20compagnies/logo-boutique_bgsvny.svg"}),r.createElement("div",{className:"mb-2 align-center"},r.createElement(p.o,null)),r.createElement("div",{className:"pl-2"},!!d&&!!v.length&&r.createElement("p",null,"Recherche pour: ",r.createElement("strong",null,"'",d,"'")),r.createElement(f,null),!v.length&&r.createElement("div",{className:"text-center mt-5"},r.createElement("p",{className:""},"aucun article trouvé pour")," ",r.createElement("strong",{className:"title-categorie"},"'",d,"'"))))}function g(e){var t,n=r.useContext(h.Z),i=n.products,a=n.collections,u={},m=(0,o.useLocation)().search,d=s.parse(m),p=(null===(t=d.c)||void 0===t?void 0:t.split(",").filter((function(e){return!!e})))||[],g={},E=d.s;p.forEach((function(e){g[e]=!0})),a&&a.forEach((function(e){u[e.shopifyId]={},e.products.forEach((function(t){u[e.shopifyId][t.shopifyId]=!0}))}));var y=i.filter((function(e){if(Object.keys(g).length){for(var t in g){var n;if(null!==(n=u[t])&&void 0!==n&&n[e.shopifyId])return!0}return!1}return!0})).filter((function(e){return!E||e.title.toLowerCase().indexOf(E.toLowerCase())>=0})),x=(0,r.useState)(!1),b=x[0],w=x[1];return r.createElement(c.l,null,r.createElement(l.HJ,{description:"Coccinelles et compagnie",title:"tout les produits"}),r.createElement("section",{className:"flex flex-col md:flex-row content-center space-x-4 w-12/12"},r.createElement(v,null),r.createElement("div",{className:" mt-10 md:mt-5 "},r.createElement("button",{className:"  md:hidden hover:opacity-80 block p-2 ml-3 mb-5 text-xl w-1/3 buy-boutique whitespace-nowrap rounded-full text-white",onClick:function(){return w(!b)}},"catégories"),r.createElement("div",{className:(b?"block":"hidden")+" mb-5 md:block md:hidden md:flex md:items-center w-full md:w-auto ml-auto"},r.createElement(f,null)),r.createElement("h2",{className:"DancingScript mb-5 text-4xl"}," Produits"),!!y.length&&r.createElement("div",{className:"flex-grow "},r.createElement(l.n2,{products:y})))))}}}]);
//# sourceMappingURL=component---src-pages-produits-js.js.map