(self.webpackChunkgatsby_shopify_course=self.webpackChunkgatsby_shopify_course||[]).push([[768],{8151:function(e,t,n){"use strict";n.d(t,{l:function(){return c}});var r=n(7294),l=n(1044),o=n(4997),c=function(e){var t=e.children;return r.createElement(r.Fragment,null,r.createElement("div",{className:"site min-h-screen flex flex-col "},r.createElement(l.Z,null),r.createElement("main",{className:"mt-10 md:mt-0"},t," "),r.createElement(o.$,null)))}},7207:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return g}});var r=n(7294),l=n(1818),o=n(8151),c=n(9499),a=n(9),i=a.ZP.div.withConfig({displayName:"styles__CategoryFilterItemWrapper",componentId:"sc-1kwunmb-0"})(["display:flex;margin-top:10px;cursor:pointer;color:#707070;> div:last-child{padding-left:8px;}"]),s=n(2203);function u(e){var t,n=e.title,o=e.id,a=(0,c.useLocation)().search,u=s.parse(a),m=(null===(t=u.c)||void 0===t?void 0:t.split(",").filter((function(e){return!!e})))||[],d=null==m?void 0:m.find((function(e){return e===o})),f=u.s;return r.createElement(i,{onClick:function(){var e=[];d?e=m.filter((function(e){return e!==o})).map((function(e){return encodeURIComponent(e)})):(m.push(o),e=m.map((function(e){return encodeURIComponent(e)}))),e.length&&!f?(0,c.navigate)("/produits?c="+e.join(",")):e.length&&f?(0,c.navigate)("/produits?c="+e.join(",")+"&s="+encodeURIComponent(f)):!e.length&&f?(0,c.navigate)("/produits?s="+encodeURIComponent(f)):(0,c.navigate)("/produits")}},r.createElement(l.XZ,{checked:d}),r.createElement("div",null,n))}var m=a.ZP.div.withConfig({displayName:"styles__FiltersWrapper",componentId:"onqu3-0"})(["margin-top:20px;"]),d=n(5444);function f(){var e=(0,d.useStaticQuery)("2152172602");return r.createElement(m,null,r.createElement("div",{className:" title-categorie DancingScript font-bold mb-6"},"Types de produits"),e.allShopifyCollection.edges.map((function(e){var t=e.node;return r.createElement(u,{title:t.title,key:t.shopifyId,id:t.shopifyId,className:" title-categorie font-bold text-centermb-6"})})))}var p=n(4741),h=n(349);function v(){var e,t=r.useContext(h.Z),n=t.products,l=t.collections,o={},a=(0,c.useLocation)().search,i=s.parse(a),u=(null===(e=i.c)||void 0===e?void 0:e.split(",").filter((function(e){return!!e})))||[],m={},d=i.s;u.forEach((function(e){m[e]=!0})),l&&l.forEach((function(e){o[e.shopifyId]={},e.products.forEach((function(t){o[e.shopifyId][t.shopifyId]=!0}))}));var v=n.filter((function(e){if(Object.keys(m).length){for(var t in m){var n;if(null!==(n=o[t])&&void 0!==n&&n[e.shopifyId])return!0}return!1}return!0})).filter((function(e){return!d||e.title.toLowerCase().indexOf(d.toLowerCase())>=0}));return r.createElement("aside",{className:" text-left hidden md:flex   md:flex-col content-center  pr-4 "},r.createElement("img",{className:"w-5/6 mx-auto mb-5 mt-3 ",alt:"accueil",src:"https://res.cloudinary.com/anthow/image/upload/v1619966610/Coccinelles%20et%20compagnies/logo-boutique_bgsvny.svg"}),r.createElement("div",{className:"mb-2 align-center"},r.createElement(p.o,null)),r.createElement("div",{className:"pl-2"},!!d&&!!v.length&&r.createElement("p",null,"Recherche pour: ",r.createElement("strong",null,"'",d,"'")),r.createElement(f,null),!v.length&&r.createElement("div",{className:"text-center mt-5"},r.createElement("p",{className:""},"aucun article trouvé pour")," ",r.createElement("strong",{className:"title-categorie"},"'",d,"'"))))}function E(){var e,t=r.useState(""),n=t[0],l=t[1],o=(0,c.useLocation)().search,a=(null===(e=s.parse(o))||void 0===e?void 0:e.c)||"";return r.createElement("form",{className:"md:hidden flex ",onSubmit:function(e){e.preventDefault(),a?(0,c.navigate)("/produits?s="+encodeURIComponent(n)+"&c="+encodeURIComponent(a)):(0,c.navigate)("/produits?s="+encodeURIComponent(n))}},r.createElement("input",{value:n,onChange:function(e){return l(e.currentTarget.value)},className:" w-6/12 rounded border"}),r.createElement("button",{className:" text-white blog button.search p-1 "},"Rechercher"))}function g(e){var t,n=r.useContext(h.Z),a=n.products,i=n.collections,u={},m=(0,c.useLocation)().search,d=s.parse(m),p=(null===(t=d.c)||void 0===t?void 0:t.split(",").filter((function(e){return!!e})))||[],g={},x=d.s;p.forEach((function(e){g[e]=!0})),i&&i.forEach((function(e){u[e.shopifyId]={},e.products.forEach((function(t){u[e.shopifyId][t.shopifyId]=!0}))}));var b=a.filter((function(e){if(Object.keys(g).length){for(var t in g){var n;if(null!==(n=u[t])&&void 0!==n&&n[e.shopifyId])return!0}return!1}return!0})).filter((function(e){return!x||e.title.toLowerCase().indexOf(x.toLowerCase())>=0})),y=(0,r.useState)(!1),C=y[0],N=y[1];return r.createElement(o.l,null,r.createElement(l.HJ,{description:"Coccinelles et compagnie",title:"tout les produits"}),r.createElement("section",{className:"flex flex-col md:flex-row content-center space-x-4 w-12/12"},r.createElement(v,null),r.createElement("div",{className:" mt-5 md:mt-5 "},r.createElement("div",{className:"mt-5"},r.createElement("div",{className:"flex p-2 w-12/12  items-baseline m-auto space-x-2"},r.createElement("button",{className:"  md:hidden hover:opacity-80 block p-2 ml-3 mb-5 text-xl w-1/3 buy-boutique whitespace-nowrap rounded-full text-white",onClick:function(){return N(!C)}},"catégories"),r.createElement(E,null)),r.createElement("div",{className:(C?"block":"hidden")+" mb-5 md:block  md:hidden md:flex md:items-center w-full md:w-auto ml-auto"},r.createElement(f,null))),r.createElement("h2",{className:"DancingScript mt-5 md:mt-5 mb-5 text-4xl"}," Produits"),!!b.length&&r.createElement("div",{className:"flex-grow m "},r.createElement(l.n2,{products:b})))))}}}]);
//# sourceMappingURL=component---src-pages-produits-js.js.map